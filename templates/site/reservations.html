{% extends 'site/base.html' %}
{% block title %}予約 | Sample Cafe{% endblock %}

{% block content %}
<section class="page-hero" style="background-image: url('{{ content.get('image', '') }}');">
  <div class="overlay"></div>
  <div class="container">
    <h1>{{ content.get('title', '予約') }}</h1>
    <p>{{ content.get('subtitle', '') }}</p>
  </div>
</section>

<section class="page-section container two-column">
  <div>
    <h2>ご予約案内</h2>
    <p>{{ content.get('body', '') }}</p>
    <div class="info-block">
      <h3>当店からのお約束</h3>
      <p>{{ content.get('highlight', '') }}</p>
    </div>
  </div>

  <div class="reservation-card">
    <h3>ご予約はこちら</h3>

    {# デフォルト値 #}
    {% set cta = '予約ページへ' %}
    {% set link = '#' %}
    {% set extra = content.get('extra_info') %}

    {# extra_info 形式:  "cta=来店予約|link=https://example.com/reserve" #}
    {% if extra %}
      {% set parts = extra.split('|', 1) %}
      {% if parts and '=' in parts[0] %}
        {% set cta = parts[0].split('=', 1)[1] %}
      {% endif %}
      {% if parts|length > 1 and 'link=' in parts[1] %}
        {% set link = parts[1].split('=', 1)[1] %}
      {% endif %}
    {% endif %}

    <a href="{{ link }}" class="btn-primary" target="_blank" rel="noopener">{{ cta }}</a>
    <p class="note">予約サイトやお問い合わせフォームへのリンクを設定してください。</p>
  </div>
</section>

<section class="page-section accent">
  <div class="container split">
    <div>
      <h2>貸切・団体予約について</h2>
      <p>
        貸切パーティー、テイスティング会、企業様のご利用など、
        団体予約に関するご案内や、ご希望に合わせたプラン内容をここにご記載ください。
      </p>
    </div>
    <div>
      <h2>ご予約時のお願い</h2>
      <ul class="bullet-list">
        <li>お席の時間制や事前のお預かり金などがある場合は、その内容を明記してください。</li>
        <li>キャンセル・人数変更の期限や方法についてわかりやすくご案内してください。</li>
        <li>アレルギーや記念日の演出など、事前にご相談いただきたい事項を記載すると安心です。</li>
      </ul>
    </div>
  </div>
</section>
{% endblock %}
