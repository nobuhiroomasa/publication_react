{% extends 'admin/base.html' %}
{% block title %}Announcements Management | Sample Cafe CMS{% endblock %}
{% block content %}
<section class="form-section">
    <header>
        <h1>お知らせ管理</h1>
        <p>キャンペーンや最新情報を追加してください。</p>
    </header>
    <form method="post" class="form-grid compact">
        <input type="hidden" name="action" value="add">
        <label>タイトル
            <input type="text" name="title" required>
        </label>
        <label>内容
            <textarea name="content" rows="3" required></textarea>
        </label>
        <button type="submit" class="btn-primary">追加</button>
    </form>
    <div class="announcement-admin-list">
        {% for announcement in announcements %}
        <article>
            <h3>{{ announcement['title'] }}</h3>
            <time datetime="{{ announcement['published_at'] }}">{{ announcement['published_at'] | replace('T', ' ') }}</time>
            <p>{{ announcement['content'] }}</p>
            <form method="post" class="inline-form">
                <input type="hidden" name="action" value="delete">
                <input type="hidden" name="announcement_id" value="{{ announcement['id'] }}">
                <button type="submit" class="btn-outline">削除</button>
            </form>
        </article>
        {% endfor %}
    </div>
</section>
{% endblock %}
